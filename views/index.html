<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Trail Mix</title>

    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/styles.css">

    <!-- VENDOR SCRIPTS -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.1.2/mustache.min.js"></script>

    <!-- APPLICATION SCRIPTS -->
    <script src="/scripts/app.js"></script>
  </head>


  <body>
    <div class="jumbotron">
      <img class="logo" alt="logo" src="./images/Artboard1.png">
    </div> <!--close class="jumbotron"-->
    <div class="container">
      <div class="row-spacer" id="trails"></div> <!-- target to which index of trails will be appended-->
      <div id="modal-target"></div>
      <div id="update-modal-target"></div>
    </div> <!-- end of container div -->


    <!-- Trail Cards Template -->
    <script id="trails-template" type="x-tmpl-mustache">
      <div class="col-md-4 card row-spacer">
        <img src="{{image}}" alt="{{name}}" class="img-responsive" data-toggle="modal" data-target="{{_id}}">
        <h4>{{name}}</h4><button type="button" class="btn btn-secondary btn-sm update-btn" data-toggle="modal" data-id="{{_id}}" data-target="#update-modal-template">Update Trail</button>
      </div>
    </script> <!-- end of Trail Cards Template -->

    <!-- Info Modal Template -->
    <script id="info-modal-template" type="x-tmpl-mustache">
      <div class="modal" id="{{_id}}" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">{{name}}</h4>
            </div>
            <div class="modal-body">
              <img class="img-responsive" src="{{trailMap}}" alt="trail map image">
              <h5>More Information:</h5><a href="{{link}}" target="_blank">{{link}}</a>
              <h5>Distance: {{distance}}</h5>
              <h5>Difficulty: {{difficulty}}</h5>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Close">Close</button>
            </div>
          </div>
        </div>
      </div>
    </script> <!-- end of Info Modal Template -->

    <!-- Update Modal Template -->
    <div id="update-modal" class="update-modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <form class="form-inline row-spacer col-md-12" id="updateForm">
          <div class="update-modal-header">
            <h4>Update Trail:</h4>
          </div>
          <div class="form-group">
            <label for="name">Name</label>
            <input id="updatedTrailName" type="text" class="form-control" name="name" placeholder="Trail Name">
          </div>
          <div class="form-group">
            <label for="trailMap">Trail Map</label>
            <input id="updatedTrailMap" type="text" class="form-control" name="trailMap" placeholder="http://www.mappery.com/maps/Presidio-Trail-and-Overlook-Map.png">
          </div>
          <div class="form-group">
            <label for="distance">Distance</label>
            <input id="updatedDistance" type="text" class="form-control" name="distance" placeholder="3.5">
          </div>
          <div class="form-group">
            <label for="difficulty">Difficulty</label>
            <input id="updatedDifficulty" type="text" class="form-control" name="difficulty" placeholder="2">
          </div>
          <div class="form-group">
            <label for="link">Link to More Info</label>
            <input id="updatedInfoLink" type="text" class="form-control" name="moreInfo" placeholder="http://www.presidio.gov/trails/batteries-to-bluffs-trail">
          </div>
          <div class="form-group">
            <label for="trailImage">Trail Image</label>
            <input id="updatedImage" type="text" class="form-control" name="trailImage" placeholder="http://www.campbellgradinginc.com/sites/campbellgradinginc.com/files/upload/btb_overall_treve_pic.jpg">
          </div>
          <button type="submit" class="submit btn btn-default">Save Updates</button>
        </form>
      </div> <!-- end of Update Modal content -->
    </div> <!-- end of Update Modal -->

  </body>
</html>
